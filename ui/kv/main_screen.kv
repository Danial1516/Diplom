# ui/kv/main_screen.kv

#: import NoTransition kivy.uix.screenmanager.NoTransition

<MainScreen>:
    name: 'main'
    ScreenManager:
        id: screen_manager
        Screen:
            name: 'bottom_nav'
            BoxLayout:
                orientation: 'vertical'

                MDBottomNavigation:
                    size_hint_y: 0.1
                    text_color_normal: "lightgrey"
                    text_color_active: (40/255, 40/255, 75/255, 1)
                    selected_color_background: 1, 1, 1, 1
                    panel_color: (40/255, 40/255, 75/255, 1)
                    use_text: False

                    MDBottomNavigationItem:
                        name: 'home'
                        icon: 'home'

                        MDBoxLayout:
                            orientation: 'vertical'
                            md_bg_color: 28/255, 140/255, 140/255, 1

                            Widget:
                                size_hint_y: None
                                height: dp(30)

                            MDScrollView:
                                MDBoxLayout:
                                    orientation: 'vertical'
                                    size_hint_y: None
                                    height: self.minimum_height  # Установите высоту на основе содержимого
                                    padding: [dp(25), 0, dp(30), 0]
                                    spacing: dp(25)

                                    # Первая строка кнопок
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: dp(15)
                                        size_hint_y: None
                                        height: dp(150)
                                        spacing: dp(35)

                                        ElementCard:
                                            image:"assets/images/book.png"
                                            text:"Знайди пару" #practice with time
                                            subtext:""
                                            items_count:""
                                            on_press: app.root.current = 'picture_screen'

                                        ElementCard:
                                            image:"assets/images/story.png"
                                            text:"Перевірте свої знання"  # practice with time tasks(rating)
                                            subtext:""
                                            items_count:""
                                            on_press: app.root.current = 'testing'

                                    # Вторая строка кнопок
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: dp(15)
                                        size_hint_y: None
                                        height: dp(150)
                                        spacing: dp(35)

                                        ElementCard:
                                            image:"assets/images/time.png"
                                            text:"Тест на час"
                                            subtext:""
                                            items_count:""
                                            on_press: app.root.current = 'time_test'

                                        ElementCard:
                                            image:"assets/images/listen.png"
                                            text:"Аудіювання"
                                            subtext:""
                                            items_count:""
                                            on_press: app.root.current = 'choose_lvl_listen'

                                    # Третья строка кнопок
                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: dp(15)
                                        size_hint_y: None
                                        height: dp(150)
                                        spacing: dp(35)

                                        ElementCard:
                                            image:"assets/images/stor.png"
                                            text:"Збери речення"
                                            subtext:""
                                            items_count:""
                                            on_press: app.root.current = 'build_sentence'





                    MDBottomNavigationItem:
                        name: 'tasks'
                        icon: 'book-open-page-variant'

                        TasksScreen:



                    MDBottomNavigationItem:
                        name: 'notifications'
                        icon: 'bell'

                        NotificationsScreen:




                    MDBottomNavigationItem:
                        name: 'rating'
                        icon: 'chart-bell-curve-cumulative'

                        RatingScreen:


                    MDBottomNavigationItem:
                        name: 'chat'
                        icon: 'pencil'

                        ChatScreen:


<ElementCard@MDCard>:
    md_bg_color: 255/255, 111/255, 97/255, 1
    padding:dp(15)
    spacing:dp(15)
    ripple_behavior: True
    elevation: 2
    shadow_radius: 3
    image:''
    text:""
    size_hint_y: None
    size_hint_x: None
    height: dp(130)
    width: dp(140)

    orientation:'vertical'
    Image:
        source:root.image
        size_hint: None, None
        size: dp(60), dp(60)  # Установите нужный размер
        allow_stretch: True
        pos_hint: {'center_x': 0.5}

    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            halign:"center"
            text:root.text
            font_style:"H6"
